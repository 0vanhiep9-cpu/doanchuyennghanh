{% extends 'nhanvien/base.html' %}
{% load humanize %}

{% block content %}
<div class="space-y-6">
    <!-- Header -->
    <div class="bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl p-6 text-white shadow-lg">
        <div class="flex items-center gap-4">
            <div class="p-3 bg-white/20 rounded-lg">
                <i data-lucide="briefcase" class="w-8 h-8"></i>
            </div>
            <div>
                <h2 class="text-2xl font-bold">Th√¥ng Tin Tuy·ªÉn D·ª•ng</h2>
                <p class="text-blue-100">C√°c v·ªã tr√≠ ƒëang tuy·ªÉn d·ª•ng t·∫°i c√¥ng ty</p>
            </div>
        </div>
    </div>

    <!-- Th·ªëng k√™ nhanh -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-sm text-gray-500 mb-1">V·ªã Tr√≠ ƒêang M·ªü</p>
                    <h3 class="text-2xl font-bold text-green-600">{{ jobs.count }}</h3>
                </div>
                <div class="p-3 rounded-full bg-green-100 text-green-600">
                    <i data-lucide="briefcase" class="w-6 h-6"></i>
                </div>
            </div>
        </div>

        <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-sm text-gray-500 mb-1">C∆° H·ªôi Ngh·ªÅ Nghi·ªáp</p>
                    <h3 class="text-2xl font-bold text-blue-600">ƒêa D·∫°ng</h3>
                </div>
                <div class="p-3 rounded-full bg-blue-100 text-blue-600">
                    <i data-lucide="trending-up" class="w-6 h-6"></i>
                </div>
            </div>
        </div>

        <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-sm text-gray-500 mb-1">M√¥i Tr∆∞·ªùng</p>
                    <h3 class="text-2xl font-bold text-purple-600">Th√¢n Thi·ªán</h3>
                </div>
                <div class="p-3 rounded-full bg-purple-100 text-purple-600">
                    <i data-lucide="heart" class="w-6 h-6"></i>
                </div>
            </div>
        </div>
    </div>

    <!-- Danh s√°ch v·ªã tr√≠ tuy·ªÉn d·ª•ng -->
    <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
        <div class="px-6 py-4 border-b border-gray-100">
            <h3 class="font-bold text-gray-800 flex items-center gap-2">
                <i data-lucide="search" class="w-5 h-5 text-blue-600"></i>
                C√°c V·ªã Tr√≠ ƒêang Tuy·ªÉn D·ª•ng
            </h3>
        </div>

        {% if jobs %}
        <div class="divide-y divide-gray-100">
            {% for job in jobs %}
            <div class="p-6 hover:bg-gray-50 transition-colors">
                <div class="flex flex-col lg:flex-row lg:items-center justify-between gap-4">
                    <div class="flex-1">
                        <div class="flex items-start gap-4">
                            <div class="p-3 bg-blue-100 text-blue-600 rounded-lg flex-shrink-0">
                                <i data-lucide="briefcase" class="w-6 h-6"></i>
                            </div>
                            <div class="flex-1">
                                <h4 class="text-lg font-semibold text-gray-800 mb-2">{{ job.vi_tri_cong_viec }}</h4>
                                
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600">
                                    <div class="flex items-center gap-2">
                                        <i data-lucide="building-2" class="w-4 h-4 text-gray-400"></i>
                                        <span>{{ job.maphongban.tenphongban|default:"Ch∆∞a ph√¢n c√¥ng" }}</span>
                                    </div>
                                    
                                    <div class="flex items-center gap-2">
                                        <i data-lucide="users" class="w-4 h-4 text-gray-400"></i>
                                        <span>Tuy·ªÉn {{ job.so_luong_tuyen }} ng∆∞·ªùi</span>
                                    </div>
                                    
                                    <div class="flex items-center gap-2">
                                        <i data-lucide="calendar" class="w-4 h-4 text-gray-400"></i>
                                        <span>M·ªü t·ª´: {{ job.ngay_mo_don|date:"d/m/Y" }}</span>
                                    </div>
                                    
                                    <div class="flex items-center gap-2">
                                        <i data-lucide="dollar-sign" class="w-4 h-4 text-gray-400"></i>
                                        <span>{{ job.muc_luong_du_kien|floatformat:0 }} VNƒê</span>
                                    </div>
                                </div>

                                {% if job.mo_ta_cong_viec %}
                                <div class="mt-3">
                                    <p class="text-gray-600 text-sm">{{ job.mo_ta_cong_viec|truncatewords:20 }}</p>
                                </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>

                    <div class="flex flex-col items-end gap-3">
                        <!-- Tr·∫°ng th√°i -->
                        <span class="px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700">
                            <i data-lucide="check-circle" class="w-3 h-3 inline mr-1"></i>
                            {{ job.trang_thai }}
                        </span>

                        <!-- Th√¥ng tin ng∆∞·ªùi tuy·ªÉn d·ª•ng -->
                        {% if job.nguoi_tuyen_dung %}
                        <div class="text-right text-sm text-gray-500">
                            <p class="font-medium">Li√™n h·ªá:</p>
                            <p>{{ job.nguoi_tuyen_dung.hoten }}</p>
                        </div>
                        {% endif %}

                        <!-- Ng√†y onboard d·ª± ki·∫øn -->
                        {% if job.ngay_onboard_du_kien %}
                        <div class="text-right text-sm text-gray-500">
                            <p class="font-medium">Onboard d·ª± ki·∫øn:</p>
                            <p>{{ job.ngay_onboard_du_kien|date:"d/m/Y" }}</p>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <div class="px-6 py-12 text-center">
            <i data-lucide="briefcase" class="w-12 h-12 text-gray-400 mx-auto mb-4"></i>
            <p class="text-gray-500 text-lg font-medium">Hi·ªán t·∫°i ch∆∞a c√≥ v·ªã tr√≠ tuy·ªÉn d·ª•ng n√†o</p>
            <p class="text-gray-400 text-sm">Vui l√≤ng quay l·∫°i sau ƒë·ªÉ xem c√°c c∆° h·ªôi m·ªõi</p>
        </div>
        {% endif %}
    </div>

    <!-- Th√¥ng tin li√™n h·ªá -->
    <div class="bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-xl p-6">
        <h4 class="font-medium text-green-800 mb-3 flex items-center gap-2">
            <i data-lucide="info" class="w-5 h-5"></i>
            Th√¥ng Tin Li√™n H·ªá
        </h4>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-green-700">
            <div>
                <p class="font-medium">üìß Email HR:</p>
                <p>hr@company.com</p>
            </div>
            <div>
                <p class="font-medium">üìû Hotline:</p>
                <p>1900-xxxx</p>
            </div>
            <div>
                <p class="font-medium">üìç ƒê·ªãa ch·ªâ:</p>
                <p>T√≤a nh√† Bitexco Financial Tower, TP.HCM</p>
            </div>
            <div>
                <p class="font-medium">‚è∞ Th·ªùi gian l√†m vi·ªác:</p>
                <p>8:00 - 17:30 (Th·ª© 2 - Th·ª© 6)</p>
            </div>
        </div>
    </div>

    <!-- L∆∞u √Ω -->
    <div class="bg-blue-50 border border-blue-200 rounded-xl p-4">
        <h4 class="font-medium text-blue-800 mb-2 flex items-center gap-2">
            <i data-lucide="lightbulb" class="w-4 h-4"></i>
            L∆∞u √ù Cho ·ª®ng Vi√™n
        </h4>
        <ul class="text-sm text-blue-700 space-y-1">
            <li>‚Ä¢ Th√¥ng tin tuy·ªÉn d·ª•ng c√≥ th·ªÉ thay ƒë·ªïi theo th·ªùi gian</li>
            <li>‚Ä¢ Vui l√≤ng li√™n h·ªá tr·ª±c ti·∫øp v·ªõi b·ªô ph·∫≠n HR ƒë·ªÉ bi·∫øt th√™m chi ti·∫øt</li>
            <li>‚Ä¢ C√¥ng ty lu√¥n ch√†o ƒë√≥n nh·ªØng ·ª©ng vi√™n t√†i nƒÉng v√† nhi·ªát huy·∫øt</li>
        </ul>
    </div>
</div>

<script>
// Kh·ªüi t·∫°o icons
document.addEventListener('DOMContentLoaded', function() {
    if (typeof lucide !== 'undefined') {
        lucide.createIcons();
    }
});
</script>
{% endblock %}